<section id="show_variable_modal" class="flex flex-col items-center justify-center h-full">
  <h2 class="text-3xl font-black">
    <%= @config.name %>
  </h2>
  <div class="text-xs mb-3">
    <.chip>
      <%= Exshome.DataType.icon(@config.type) %>
      <%= Exshome.DataType.name(@config.type) %>
    </.chip>
    <%= if @config.readonly? do %>
      <.chip>
        ğŸ”’ readonly
      </.chip>
    <% end %>
  </div>

  <div class="text-xl">
    Current value:
    <span class="font-black">
      <.render_datatype_value type={@config.type} value={@deps.variable} />
    </span>
  </div>
  <%= if !@config.readonly? do %>
    <form class="p-1 w-full flex flex-col items-center" phx-change="validate" phx-submit="save">
      <.render_datatype_input type={@config.type} value={@deps.variable} name="variable" />
      <%= if @error_message do %>
        <div type="error" class="text-red-300"><%= @error_message %></div>
      <% end %>
      <.button disabled={!!@error_message} type="submit">Save</.button>
    </form>
  <% end %>
</section>
